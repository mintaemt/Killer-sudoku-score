# 更新紀錄

所有重要的專案變更都會記錄在此檔案中。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
並且此專案遵循 [語意化版本控制](https://semver.org/lang/zh-TW/)。

## [未發布]

### 新增
- 新增 `handleDopamineGameOver` 函數以處理多巴胺模式遊戲結束
- 重新撰寫完整的 README.md 文件，包含詳細的專案介紹和使用指南
- 新增 CHANGELOG.md 檔案以追蹤專案變更歷史

### 變更
- 移除重複和過時的 SQL 設定檔案
- 清理專案中不再使用的文件

### 修復
- 修復 TypeScript 錯誤：`handleDopamineGameOver` 函數未定義的問題

## [1.0.0] - 2025-10-20

### 新增
- 🎮 **殺手數獨遊戲核心功能**
  - 完整的 9x9 數獨網格系統
  - 籠子約束條件和總和驗證
  - 智慧數獨生成演算法
  - 多種難度等級：簡單、中等、困難、專家

- 🏆 **雙模式遊戲系統**
  - **普通模式**：經典殺手數獨玩法，注重準確性和完成時間
  - **多巴胺模式**：限時挑戰模式，包含連擊系統和動態計分

- 📊 **智慧計分系統**
  - 基於難度、完成時間和錯誤次數的分數計算
  - 時間獎勵和錯誤懲罰機制
  - 分數計算過程透明化記錄
  - 多巴胺模式專用的連擊獎勵系統

- 🏅 **即時排行榜系統**
  - 按難度和模式分類的排行榜
  - 即時排名更新
  - 個人最佳成績追蹤
  - 遊戲統計資料顯示

- 👤 **用戶管理系統**
  - 用戶註冊和登入功能
  - 訪客模式支援
  - 用戶資料本地儲存
  - 遊戲記錄永久保存

- 🎨 **主題和介面系統**
  - 多種色彩主題選擇（藍、紫、綠、湖藍、橙）
  - 深色/淺色模式自動切換
  - 響應式設計，支援桌面和行動裝置
  - 現代化的 UI 元件庫

- 🌐 **多語言支援**
  - 繁體中文和英文雙語支援
  - 動態語言切換功能
  - 完整的遊戲介面翻譯

### 技術實現

- **前端框架**
  - React 18 + TypeScript
  - Vite 建構工具
  - React Router 路由管理

- **UI 元件庫**
  - shadcn/ui 元件系統
  - Radix UI 無樣式元件
  - Tailwind CSS 樣式框架
  - Lucide React 圖示庫

- **狀態管理**
  - React Query 伺服器狀態管理
  - 自定義 Hooks 狀態邏輯

- **後端服務**
  - Supabase 後端即服務平台
  - PostgreSQL 關聯式資料庫
  - Row Level Security (RLS) 資料安全

- **開發工具**
  - ESLint 程式碼品質檢查
  - TypeScript 型別安全
  - PostCSS 和 Autoprefixer

### 資料庫設計

- **用戶資料表**
  - `users` - 用戶基本資料
  - 用戶 ID、姓名、建立時間、最後登入時間

- **遊戲記錄表**
  - `normal_records` - 普通模式遊戲記錄
  - `dopamine_records` - 多巴胺模式遊戲記錄
  - 記錄難度、完成時間、錯誤次數、分數等

- **計分日誌表**
  - `normal_score_logs` - 普通模式計分詳細記錄
  - `dopamine_score_logs` - 多巴胺模式計分詳細記錄
  - 完整的計分過程透明化

- **排行榜視圖**
  - `normal_leaderboard` - 普通模式排行榜
  - `dopamine_leaderboard` - 多巴胺模式排行榜
  - 即時排名計算和更新

### 遊戲規則實現

- **普通模式規則**
  - 經典數獨規則：行、列、宮格不重複
  - 籠子約束：框內數字總和等於目標值
  - 錯誤處理：超過 3 次錯誤標記為失格
  - 計分系統：基礎分數 + 時間獎勵 - 錯誤懲罰

- **多巴胺模式規則**
  - 限時挑戰：根據難度設定不同時間限制
  - 連擊系統：連續正確答案獲得額外獎勵
  - 即時反饋：錯誤超過 3 次或時間到即結束
  - 動態計分：時間獎勵 + 連擊獎勵 - 錯誤懲罰

### 部署和維護

- **靜態託管支援**
  - Render 部署配置
  - 環境變數管理
  - 自動化部署流程

- **效能優化**
  - 程式碼分割和懶載入
  - 圖片和資源優化
  - 資料庫查詢優化

- **安全性**
  - Row Level Security 資料保護
  - 環境變數安全管理
  - 用戶輸入驗證和清理

---

## 版本說明

- **主版本號**：重大功能變更或架構重構
- **次版本號**：新功能新增或重要改進
- **修訂版本號**：錯誤修復或小幅改進

## 貢獻指南

歡迎提交 Issue 和 Pull Request 來改進此專案。請確保：

1. 遵循現有的程式碼風格
2. 添加適當的測試
3. 更新相關文件
4. 在 CHANGELOG.md 中記錄變更

---

**專案作者**: mintat feat. Cursor + Grok + Lovable 
**最後更新**: 2025-10-20
